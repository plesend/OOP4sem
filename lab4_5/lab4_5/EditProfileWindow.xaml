<Window x:Name="Settings" x:Class="lab4_5.EditProfileWindow" Style="{DynamicResource WindowStyle}"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        xmlns:local="clr-namespace:lab4_5"
        mc:Ignorable="d"
        Title="Профиль"
        Width="400" Height="500"
        MinWidth="350" MinHeight="600"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize">

    <Viewbox Stretch="Uniform" StretchDirection="Both">
        <Grid Margin="20">
            <Border Style="{DynamicResource MainBorderStyle}">
                <StackPanel HorizontalAlignment="Center">
                    <TextBlock Text="{DynamicResource Editting}"
                           Style="{DynamicResource BaseTextBlockStyle}"
                           FontWeight="Bold"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,10" />

                    <Separator Style="{DynamicResource BaseSeparatorStyle}" Margin="0,0,0,10"/>

                    <Image x:Name="ProfileImage" Source="{Binding Pfp}" Width="100" Height="100" Stretch="UniformToFill" Margin="0,0,0,20" ToolTip="Нажмите для изменения изображения">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="MouseLeftButtonDown">
                                <i:InvokeCommandAction Command="{Binding ChangeProfileImageCommand}" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </Image>

                    <TextBlock Style="{DynamicResource BaseTextBlockStyle}" HorizontalAlignment="Center" Text="{Binding CurrentUser.Username}"/>

                    <TextBlock Style="{DynamicResource BaseTextBlockStyle}" Text="{DynamicResource EditName}" />
                    <TextBox Text="{Binding newUserName}" Style="{DynamicResource BaseTextBoxStyle}" />

                    <TextBlock Style="{DynamicResource BaseTextBlockStyle}" Text="{DynamicResource EditPassword}" />
                    <TextBox Text="{Binding newPassword}" Style="{DynamicResource BaseTextBoxStyle}"/>

                    <Button Content="{DynamicResource Adjust}" Style="{DynamicResource SpecialButtonStyle}" Command="{Binding SaveCommand}"/>

                    <Button Content="{DynamicResource Cancel}" Style="{DynamicResource SpecialButtonStyle}" Command="{Binding CloseCommand}"/>
                </StackPanel>
            </Border>
        </Grid>
    </Viewbox>
</Window>
